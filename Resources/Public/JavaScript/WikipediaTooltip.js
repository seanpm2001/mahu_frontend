const WikipediaTooltip=function(i,t,e){let o=null,n=!1,l=!1,s="de";e&&e.trim().length>0&&(s=e);let a=!0;("ontouchstart"in window||"ontouch"in window)&&(a=!1);const c=function(){if(o)return $.Deferred().resolve(o);let i=$.ajax("https://"+s+".wikipedia.org/api/rest_v1/page/summary/"+t,{accepts:"text/json",async:!0,contentType:"text/json",dataType:"json"});return i.done(function(i){o=i}),i},r=function(t){let e=null;t.thumbnail?e=t.thumbnail.source:t.originalimage&&(e=t.originalimage.source);let o="",n="<div>";e&&(n+="<div class='wikiimg'><img src='"+e+"'></img></div>",o="-withimg"),n+="<div class='wikicontent"+o+"'>"+t.extract_html+"<span class='wikisource'>Quelle: <img alt='Wikipedia-Logo' src='https://www.wikipedia.org/portal/wikipedia.org/assets/img/Wikipedia-logo-v2.png'/>&nbsp;Wikipedia</span></div>",$(i).tooltip({content:n,classes:{"ui-tooltip":"wikitooltip"}})};return{render:function(){let t=$(i),e=function(){n?l?(t.tooltip("close"),l=!1):(t.tooltip("open"),l=!0):c().always(function(){n=!0}).done(function(i){r(i),t.tooltip("open"),l=!0})};if(a){let i=!1,e=function(o){"mouseleave"==o.type&&(i=!0),c().always(function(){t.off("mouseenter mouseleave",e)}).done(function(e){r(e),i||t.mouseenter()})};t.hover(e)}else t.click(e);t.keyup(function(i){if(13!=i.originalEvent.keyCode)return!0;e()})},hide:function(){let t=$(i);t.tooltip("instance")&&(t.tooltip("close"),t.removeClass("toggled"),l=!1)}}};