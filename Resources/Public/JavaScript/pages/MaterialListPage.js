class MaterialListPage extends AbstractPage{constructor(t,e){super(t,e)}showBusyIndicator(t){$("."+t).append('<div id="bindi" style="width:100%;height:100%;position:absolute;text-align:center;background:gray;opacity:0.6;top:0"><p style="position: absolute;top: calc(50% - 14px);right: calc(50% - 14px);"><i class="fas fa-spinner fa-spin fa-2x"></i></p></div>')}render(){super.render();let t=this;const e=function(){$("a.action.remove").on("click keyup",function(a){if("keyup"==a.type&&13!=a.originalEvent.keyCode)return!0;a.stopPropagation(),a.preventDefault();let i=$(this).attr("href"),o=$(this).attr("data-class"),n=$(this).attr("data-ue"),l=$("#confirmDeletion"+o).attr("data-title").replaceAll("$mat$",$(this).attr("data-file"));$("#confirmDeletion"+o).dialog({resizable:!1,height:"auto",title:l,width:400,modal:!0,buttons:[{text:Localization.getString("yes"),click:function(){i+=n,t.showBusyIndicator(o);let a=$(this);$.ajax(i,{async:!0,dataType:"text"}).done(function(t){$("."+o).html(t),e()}).always(function(){a.dialog("close"),$("#bindi").remove()})}},{text:Localization.getString("no"),click:function(){$(this).dialog("close")}}]})}),$("a.action.duplicate").on("click keyup",function(a){if("keyup"==a.type&&13!=a.originalEvent.keyCode)return!0;a.stopPropagation(),a.preventDefault();let i=$(this).attr("href"),o=$(this).attr("data-class"),n=$(this).attr("data-ue");$("#copydialog"+o).dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:[{text:"OK",click:function(){let a=$("#copydialog"+o+" #newmatname").val(),l=i.replace("%24%24%24%24%24",encodeURIComponent(a));l+=n;let c=$(this);t.showBusyIndicator(o),$.ajax(l,{async:!0,dataType:"text"}).done(function(t){$("."+o).html(t),e()}).always(function(){c.dialog("close"),$("#bindi").remove()})}},{text:Localization.getString("close"),click:function(){$(this).dialog("close")}}]})})};e()}}